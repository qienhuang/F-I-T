{
  "subcase_id": "dual_oracle_active_acquisition_v1_6_smoke",
  "run_id": "SMOKE",
  "primary_fpr_target": 0.01,
  "tpr_min_for_usable": 0.01,
  "policy_diag_split": "labeled_val",
  "series_by_policy": {
    "adaptive_joint_gap__composite_batch_ff_uK__a0.7__K5000": {
      "policy_spec": "adaptive_joint_gap__composite_batch_ff_uK__a0.7__K5000",
      "allocation_policy": "adaptive_joint_gap",
      "ranking_policy": "composite_batch_ff_uK__a0.7__K5000",
      "ranking_base": "composite_batch_ff_uK",
      "alpha_used": 0.7,
      "K_used": 5000,
      "candidate_pool_basis": "uncertainty",
      "pae": {
        "queried_labels": [
          20,
          30,
          40,
          50
        ],
        "tpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_floor_at_tpr_min": [
          1.0,
          1.0,
          1.0,
          1.0
        ],
        "trained": [
          false,
          false,
          false,
          false
        ],
        "tpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ],
        "fpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ]
      },
      "msa_cls": {
        "queried_labels": [
          20,
          30,
          40,
          50
        ],
        "tpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_floor_at_tpr_min": [
          1.0,
          1.0,
          1.0,
          1.0
        ],
        "trained": [
          false,
          false,
          false,
          false
        ],
        "tpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ],
        "fpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ]
      },
      "msa_reg": {
        "queried_labels": [
          20,
          30,
          40,
          50
        ],
        "mae_holdout": [
          0.5278819608541813,
          0.5169088371126638,
          0.5175600733559952,
          0.5158758044299471
        ]
      },
      "alloc": {
        "pae_fraction": [
          0.5,
          0.5,
          0.5
        ]
      },
      "joint": {
        "joint_usable_round": 4,
        "cov_joint_usable": [
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "events": {
        "E_covjump_pae": {
          "found": false,
          "round_index": null,
          "reason": "no jump"
        },
        "E_covjump_msa": {
          "found": false,
          "round_index": null,
          "reason": "no jump"
        },
        "E_floor_resolved_pae": {
          "found": false,
          "round_index": 4,
          "reason": "trained and fpr_floor_at_tpr_min <= cap on holdout"
        },
        "E_floor_resolved_msa": {
          "found": false,
          "round_index": 4,
          "reason": "trained and fpr_floor_at_tpr_min <= cap on holdout"
        },
        "E_exit_floor_pae": {
          "found": false,
          "round_index": 4,
          "reason": "after training starts, floor no longer blocks cap on holdout"
        },
        "E_exit_floor_msa": {
          "found": false,
          "round_index": 4,
          "reason": "after training starts, floor no longer blocks cap on holdout"
        },
        "E_enter_usable_pae": {
          "found": false,
          "round_index": 4,
          "reason": "first round PAE alarm usable at cap on holdout"
        },
        "E_enter_usable_msa": {
          "found": false,
          "round_index": 4,
          "reason": "first round MSA alarm usable at cap on holdout"
        },
        "E_joint_usable": {
          "found": false,
          "round_index": 4,
          "reason": "never jointly usable within budget"
        },
        "delta_lag": {
          "delta_lag": 0,
          "r_floor_pae": 4,
          "r_floor_msa": 4,
          "r_floor": 4,
          "r_joint": 4,
          "delta_should_be_nonnegative": true,
          "note": "negative delta indicates event-definition inconsistency or a bug; treat as audit failure"
        },
        "consistency_checks": {
          "floor_before_or_equal_enter_usable_pae": true,
          "floor_before_or_equal_enter_usable_msa": true,
          "floor_before_or_equal_joint": true,
          "exit_floor_matches_floor_resolved_pae": true,
          "exit_floor_matches_floor_resolved_msa": true,
          "covjump_joint_not_before_joint_usable": true
        }
      }
    },
    "adaptive_joint_gap__composite_batch_ff_rK__a0.7__K5000": {
      "policy_spec": "adaptive_joint_gap__composite_batch_ff_rK__a0.7__K5000",
      "allocation_policy": "adaptive_joint_gap",
      "ranking_policy": "composite_batch_ff_rK__a0.7__K5000",
      "ranking_base": "composite_batch_ff_rK",
      "alpha_used": 0.7,
      "K_used": 5000,
      "candidate_pool_basis": "random_hash",
      "pae": {
        "queried_labels": [
          20,
          30,
          50,
          60
        ],
        "tpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_primary": [
          0.0,
          0.0,
          0.0,
          0.0
        ],
        "fpr_floor_at_tpr_min": [
          1.0,
          1.0,
          1.0,
          1.0
        ],
        "trained": [
          false,
          false,
          false,
          false
        ],
        "tpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ],
        "fpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ]
      },
      "msa_cls": {
        "queried_labels": [
          20,
          30,
          30,
          40
        ],
        "tpr_primary": [
          0.0,
          1.0,
          0.0,
          0.0
        ],
        "fpr_primary": [
          0.0,
          1.0,
          0.0,
          0.0
        ],
        "fpr_floor_at_tpr_min": [
          1.0,
          1.0,
          1.0,
          1.0
        ],
        "trained": [
          false,
          false,
          false,
          false
        ],
        "tpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            1.0,
            1.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ],
        "fpr_holdout_by_fpr_target": [
          [
            0.0,
            0.0
          ],
          [
            1.0,
            1.0
          ],
          [
            0.0,
            0.0
          ],
          [
            0.0,
            0.0
          ]
        ]
      },
      "msa_reg": {
        "queried_labels": [
          20,
          30,
          30,
          40
        ],
        "mae_holdout": [
          0.5278819608541813,
          0.5188684371055635,
          0.5188684371055635,
          0.5171002921632982
        ]
      },
      "alloc": {
        "pae_fraction": [
          0.5,
          1.0,
          0.5
        ]
      },
      "joint": {
        "joint_usable_round": 4,
        "cov_joint_usable": [
          0.0,
          0.0,
          0.0,
          0.0
        ]
      },
      "events": {
        "E_covjump_pae": {
          "found": false,
          "round_index": null,
          "reason": "no jump"
        },
        "E_covjump_msa": {
          "found": false,
          "round_index": null,
          "reason": "no jump"
        },
        "E_floor_resolved_pae": {
          "found": false,
          "round_index": 4,
          "reason": "trained and fpr_floor_at_tpr_min <= cap on holdout"
        },
        "E_floor_resolved_msa": {
          "found": false,
          "round_index": 4,
          "reason": "trained and fpr_floor_at_tpr_min <= cap on holdout"
        },
        "E_exit_floor_pae": {
          "found": false,
          "round_index": 4,
          "reason": "after training starts, floor no longer blocks cap on holdout"
        },
        "E_exit_floor_msa": {
          "found": false,
          "round_index": 4,
          "reason": "after training starts, floor no longer blocks cap on holdout"
        },
        "E_enter_usable_pae": {
          "found": false,
          "round_index": 4,
          "reason": "first round PAE alarm usable at cap on holdout"
        },
        "E_enter_usable_msa": {
          "found": false,
          "round_index": 4,
          "reason": "first round MSA alarm usable at cap on holdout"
        },
        "E_joint_usable": {
          "found": false,
          "round_index": 4,
          "reason": "never jointly usable within budget"
        },
        "delta_lag": {
          "delta_lag": 0,
          "r_floor_pae": 4,
          "r_floor_msa": 4,
          "r_floor": 4,
          "r_joint": 4,
          "delta_should_be_nonnegative": true,
          "note": "negative delta indicates event-definition inconsistency or a bug; treat as audit failure"
        },
        "consistency_checks": {
          "floor_before_or_equal_enter_usable_pae": true,
          "floor_before_or_equal_enter_usable_msa": true,
          "floor_before_or_equal_joint": true,
          "exit_floor_matches_floor_resolved_pae": true,
          "exit_floor_matches_floor_resolved_msa": true,
          "covjump_joint_not_before_joint_usable": true
        }
      }
    }
  },
  "metrics_by_policy": {
    "adaptive_joint_gap__composite_batch_ff_uK__a0.7__K5000": [
      {
        "round": 0,
        "policy_params": {
          "ranking_base": "composite_batch_ff_uK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "uncertainty"
        },
        "pae": {
          "trained": false,
          "queried": 20,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 20,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 20,
          "mae_holdout": 0.5278819608541813
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 1,
        "policy_params": {
          "ranking_base": "composite_batch_ff_uK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "uncertainty"
        },
        "pae": {
          "trained": false,
          "queried": 30,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 30,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 30,
          "mae_holdout": 0.5169088371126638
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 2,
        "policy_params": {
          "ranking_base": "composite_batch_ff_uK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "uncertainty"
        },
        "pae": {
          "trained": false,
          "queried": 40,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 40,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 40,
          "mae_holdout": 0.5175600733559952
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 3,
        "policy_params": {
          "ranking_base": "composite_batch_ff_uK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "uncertainty"
        },
        "pae": {
          "trained": false,
          "queried": 50,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 50,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 50,
          "mae_holdout": 0.5158758044299471
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      }
    ],
    "adaptive_joint_gap__composite_batch_ff_rK__a0.7__K5000": [
      {
        "round": 0,
        "policy_params": {
          "ranking_base": "composite_batch_ff_rK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "random_hash"
        },
        "pae": {
          "trained": false,
          "queried": 20,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 20,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 20,
          "mae_holdout": 0.5278819608541813
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 1,
        "policy_params": {
          "ranking_base": "composite_batch_ff_rK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "random_hash"
        },
        "pae": {
          "trained": false,
          "queried": 30,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 30,
          "val_tpr_primary": 1.0,
          "val_fpr_primary": 0.0,
          "val_usable": true,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 1.0,
          "holdout_fpr_primary": 1.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 30,
          "mae_holdout": 0.5188684371055635
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 2,
        "policy_params": {
          "ranking_base": "composite_batch_ff_rK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "random_hash"
        },
        "pae": {
          "trained": false,
          "queried": 50,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 30,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 30,
          "mae_holdout": 0.5188684371055635
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      },
      {
        "round": 3,
        "policy_params": {
          "ranking_base": "composite_batch_ff_rK",
          "alpha_used": 0.7,
          "K_used": 5000,
          "candidate_pool_basis": "random_hash"
        },
        "pae": {
          "trained": false,
          "queried": 60,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_cls": {
          "trained": false,
          "queried": 40,
          "val_tpr_primary": 0.0,
          "val_fpr_primary": 0.0,
          "val_usable": false,
          "val_fpr_floor_at_tpr_min": 1.0,
          "holdout_tpr_primary": 0.0,
          "holdout_fpr_primary": 0.0,
          "holdout_usable": false,
          "holdout_fpr_floor_at_tpr_min": 1.0
        },
        "msa_reg": {
          "queried": 40,
          "mae_holdout": 0.5171002921632982
        },
        "joint": {
          "joint_usable_round_so_far": 4
        }
      }
    ]
  }
}