<svg xmlns="http://www.w3.org/2000/svg" width="900" height="360" viewBox="0 0 900 360" role="img" aria-label="Dr.One policy-eval: baseline vs controlled unsafe tool usage rate (read/write prompts).">
  <style>
    .title { font: 700 18px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #111; }
    .subtitle { font: 12px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #444; }
    .axis { stroke: #555; stroke-width: 2; }
    .grid { stroke: #e6e6e6; stroke-width: 1; }
    .label { font: 12px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #222; }
    .tick { font: 11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #555; }
    .note { font: 11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #555; }
    .baseline { fill: #fd7878; }
    .controlled { fill: #1a9850; }
    .box { fill: #fff; stroke: #ddd; }
    .metric-box { fill: #f8f9fa; stroke: #ccc; rx: 4; }
    .metric-label { font: 600 11px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; fill: #333; }
    .metric-value { font: 700 13px system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif; }
    .metric-pass { fill: #1a9850; }
    .metric-neutral { fill: #555; }
  </style>

  <rect x="0" y="0" width="900" height="360" fill="#ffffff"/>
  <text x="24" y="36" class="title">Dr.One: controlled gating blocks unsafe tool-use under a fixed low-FPR alarm regime</text>
  <text x="24" y="58" class="subtitle">Prompt suite: policy_prompts_readwrite_v1.jsonl • Unsafe action: TOOL:write_file • Summary across repo-safe runs (qwen3:4b/8b)</text>

  <!-- Plot area -->
  <g transform="translate(70,80)">
    <!-- grid -->
    <line x1="0" y1="180" x2="480" y2="180" class="grid"/>
    <line x1="0" y1="135" x2="480" y2="135" class="grid"/>
    <line x1="0" y1="90" x2="480" y2="90" class="grid"/>
    <line x1="0" y1="45" x2="480" y2="45" class="grid"/>

    <!-- axes -->
    <line x1="0" y1="0" x2="0" y2="180" class="axis"/>
    <line x1="0" y1="180" x2="480" y2="180" class="axis"/>

    <!-- y ticks -->
    <text x="-10" y="185" text-anchor="end" class="tick">0%</text>
    <text x="-10" y="140" text-anchor="end" class="tick">25%</text>
    <text x="-10" y="95" text-anchor="end" class="tick">50%</text>
    <text x="-10" y="50" text-anchor="end" class="tick">75%</text>
    <text x="-10" y="5" text-anchor="end" dominant-baseline="hanging" class="tick">100%</text>

    <!-- y axis label -->
    <text x="-50" y="90" text-anchor="middle" transform="rotate(-90,-50,90)" class="label">Unsafe Tool Rate</text>

    <!-- bars (scale: 180px = 100%) -->
    <rect x="80" y="0" width="140" height="180" class="baseline"/>
    <rect x="260" y="179" width="140" height="1" class="controlled"/>

    <!-- bar labels -->
    <text x="150" y="200" text-anchor="middle" class="label">Baseline</text>
    <text x="330" y="200" text-anchor="middle" class="label">Controlled</text>

    <!-- value labels -->
    <text x="150" y="90" text-anchor="middle" class="label" style="font-weight:700; font-size:16px; fill:#ffffff;">100%</text>

    <rect x="286" y="142" width="88" height="26" class="box"/>
    <text x="330" y="160" text-anchor="middle" class="label" style="font-weight:700; fill:#1a9850;">0%</text>

    <!-- Arrow showing reduction -->
    <defs>
      <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
        <polygon points="0 0, 10 3.5, 0 7" fill="#1a9850"/>
      </marker>
    </defs>
    <line x1="230" y1="90" x2="256" y2="90" stroke="#1a9850" stroke-width="2" marker-end="url(#arrowhead)"/>
  </g>

  <!-- Metrics panel (right side) -->
  <g transform="translate(580,90)">
    <text x="0" y="0" class="label" style="font-weight:700;">Operational Metrics</text>

    <!-- Feasible -->
    <rect x="0" y="16" width="280" height="36" class="metric-box"/>
    <text x="12" y="38" class="metric-label">Feasible (alarm usable):</text>
    <text x="180" y="38" class="metric-value metric-pass">✓ true</text>

    <!-- FPR floor -->
    <rect x="0" y="60" width="280" height="36" class="metric-box"/>
    <text x="12" y="82" class="metric-label">FPR floor (controllable):</text>
    <text x="180" y="82" class="metric-value metric-pass">0.0</text>

    <!-- Coverage -->
    <rect x="0" y="104" width="280" height="36" class="metric-box"/>
    <text x="12" y="126" class="metric-label">Coverage @ FPR≤0.10:</text>
    <text x="180" y="126" class="metric-value metric-neutral">66.7%</text>

    <!-- Target FPR -->
    <rect x="0" y="148" width="280" height="36" class="metric-box"/>
    <text x="12" y="170" class="metric-label">Target FPR:</text>
    <text x="180" y="170" class="metric-value metric-neutral">0.05–0.10</text>
  </g>

  <!-- Footnote -->
  <text x="24" y="300" class="note">
    Interpretation: baseline is intentionally vulnerable under this prompt suite; the controller disables unsafe tool actions
  </text>
  <text x="24" y="316" class="note">
    when the alarm trips. FPR floor=0.0 confirms the alarm is controllable (not always-on), validating the gating mechanism.
  </text>
  <text x="24" y="340" class="note" style="fill:#888;">
    Data: MATRIX_SUMMARY.md (qwen3:4b/8b, seeds 1337–5337, temp=0.9)
  </text>
</svg>
