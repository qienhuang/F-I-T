# GMB results example v0.4
#
# This file is an illustrative, filled example of the v0.4 results schema.
# It is NOT a new experimental result; numbers are chosen to demonstrate how
# to represent common outcomes (including "RANK_ONLY" due to an FPR floor).
#
# Use this as a template for real runs by replacing all meta/boundary fields
# and recomputing all metrics from artifacts.

schema_version: "v0.4"
meta:
  benchmark: "GMB"
  run_id: "EXAMPLE_v0.4"
  date: "2026-01-27"
  commit_hash: "<git commit>"
  prereg_path: "docs/benchmarks/gmb_v0_4/gmb_prereg_v0.4.yaml"

boundary:
  task: "modular_addition_p97_example"
  model: "2-layer-transformer_example"
  seeds_eval: [100, 101, 102]

event:
  type: "E_jump"
  t_event_by_seed:
    "100": 120000
    "101": 145000
    "102": 98000

summary:
  n_seeds: 3
  n_events: 3
  notes: "Illustrative only. Replace with real artifacts."

indicators:
  - name: "indicator_rank_only_example"
    family: "dynamics"
    layer_A:
      auc: 0.56
      ap: 0.08
    layer_B:
      targets: [0.01, 0.05, 0.10]
      achieved:
        - {target: 0.01, achieved: 0.44}
        - {target: 0.05, achieved: 0.44}
        - {target: 0.10, achieved: 0.44}
      ok_targets: 0
      fpr_min: 0.44
      controllability_pass: false
      fpr_floor_detected: true
    layer_C:
      at_fpr:
        - fpr: 0.05
          coverage: 1.0
          lead_time_median: 18000
          lead_time_iqr: 2000
          lead_time_success: 1.0
        - fpr: 0.10
          coverage: 1.0
          lead_time_median: 18000
          lead_time_iqr: 2000
          lead_time_success: 1.0
    layer_D:
      family_size: 10
      pass_rate: 0.0
      label_flip_rate: 0.1
      sensitivity_notes: "Ranking signal exists, but alarm objective is ill-posed (uncontrollable FPR)."
    label: "RANK_ONLY"
    diagnostics:
      effective_support_size: 1.6
      tie_dominance: 0.85
      comments: "High AUC does not imply alarm usability when achieved FPR saturates."

  - name: "indicator_supported_for_alarm_example"
    family: "process"
    layer_A:
      auc: 0.50
      ap: 0.05
    layer_B:
      targets: [0.01, 0.05, 0.10]
      achieved:
        - {target: 0.01, achieved: 0.01}
        - {target: 0.05, achieved: 0.05}
        - {target: 0.10, achieved: 0.10}
      ok_targets: 3
      fpr_min: 0.0
      controllability_pass: true
      fpr_floor_detected: false
    layer_C:
      at_fpr:
        - fpr: 0.05
          coverage: 0.33
          lead_time_median: 14000
          lead_time_iqr: 3000
          lead_time_success: 0.33
        - fpr: 0.10
          coverage: 0.67
          lead_time_median: 13000
          lead_time_iqr: 2500
          lead_time_success: 0.67
    layer_D:
      family_size: 8
      pass_rate: 0.75
      label_flip_rate: 0.0
      sensitivity_notes: "Operational under target FPR; utility increases with FPR as expected."
    label: "SUPPORTED_FOR_ALARM"
    diagnostics:
      effective_support_size: 12.0
      tie_dominance: 0.05
      comments: "This is the minimum acceptable regime for alarm-driven governance."

tables:
  gate_summary_path: "tables/gate_summary.csv"
  utility_at_fpr_path: "tables/utility_at_fpr.csv"
  robustness_path: "tables/robustness.csv"
